@tailwind base;
@tailwind components;
@tailwind utilities;

/* Light-mode fallback variables, if you need them. */
:root {
  --primary-color: #2E5A27;
  --secondary-color: #f4ea80;
  --background-color: #F5F5F5;
  --text-color: #333;
  --card-background: #fff;
  --hover-background-color: #3d7a34;
  --hover-text-color: #fff;
  --dropdown-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

/* Basic resets */
html,
body {
  margin: 0;
  padding: 0;
}

body {
  font-family: "Roboto", sans-serif;
  background-color: var(--background-color);
  color: var(--text-color);
}

.app-background {
  min-height: 100vh;
}

.app-card {
  background-color: var(--card-background);
  color: var(--text-color);
}

/* Header */
.header {
  border-radius: 6px;
}

/* Icon Buttons */
.icon-button {
  width: 24px;
  height: 24px;
  transition: color 0.3s ease;
  background: none;
  border: none;
  cursor: pointer;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #eab308;
}
.icon-button:hover {
  color: var(--secondary-color); /* #f4ea80 by default */
}

/* Controls */
.controls {
  @apply flex gap-4;
}
.controls button {
  @apply px-5 py-2 rounded-md shadow-sm text-sm font-medium;
  transition: all 0.2s ease;
}

/* 
   No more flex-1. Buttons rely on content width. 
*/
.controls .primary-button {
  background-color: #2d8a4e;
  @apply text-white mx-2;
}
.controls .primary-button:hover {
  background-color: #247040;
  transform: scale(1.02);
}
.dark .controls .primary-button {
  background-color: #2d8a4e;
}
.dark .controls .primary-button:hover {
  background-color: #247040;
}

/* Error-message styling for your custom alerts */
.error-message button {
  @apply bg-gray-500 px-5 py-2 rounded-md shadow-sm text-sm font-medium text-white;
  transition: all 0.2s ease;
}

/* ========================================= */
/*   DATE INPUT WRAPPER & ICON STYLES        */
/* ========================================= */

.date-input-wrapper {
  position: relative;
  display: inline-flex;
  align-items: center;
}

/* By default, let the desktop browser show its native icon. 
   We'll hide it conditionally for "coarse" pointer (mobile).
*/
.date-input-wrapper input[type="date"] {
  @apply rounded-md border border-gray-300 dark:border-gray-600
    bg-white dark:bg-gray-700
    text-gray-800 dark:text-gray-100
    focus:outline-none focus:ring-2 focus:ring-primary
    transition-colors;
  text-align: center;
  /*padding-right: 0.5rem; /* space for an icon if needed */
  appearance: none;
  -webkit-appearance: none;
}

/* The custom SVG icon: hidden by default on desktop. */
.date-input-wrapper .calendar-icon {
  position: absolute;
  right: 0.4rem;
  top: 50%;
  transform: translateY(-50%);
  width: 1.2rem;
  height: 1.2rem;
  background: url('/icons/calendar.svg') no-repeat center center;
  background-size: contain;
  border: none;
  background-color: transparent;
  cursor: pointer;
  z-index: 2;
  padding: 0;
  display: none; /* hidden on desktop by default */
}
.date-input-wrapper .calendar-icon:hover {
  filter: brightness(1.2);
}

/* Hide the native browser calendar icon for coarse pointers (i.e. mobile).
   Show the custom icon in that scenario. 
   "pointer: coarse" indicates a touchscreen device. 
*/
@media (pointer: coarse) {
  .date-input-wrapper input[type="date"]::-webkit-calendar-picker-indicator {
    display: none !important;
  }
  .date-input-wrapper .calendar-icon {
    display: block; /* show custom icon on mobile */
  }
}

/* On fine-pointer devices (desktop/laptop), keep the native icon and hide custom. */
@media (pointer: fine) {
  .date-input-wrapper .calendar-icon {
    display: none !important;
  }
}

/* ============== DROPDOWNS ============== */
.custom-dropdown {
  position: relative;
  margin-bottom: 1rem;
}
.dropdown-selected {
  @apply flex items-center justify-between px-4 py-3 
    bg-white dark:bg-gray-700
    text-gray-800 dark:text-gray-100
    border border-gray-300 dark:border-gray-600
    rounded cursor-pointer
    transition-colors;
}
.custom-dropdown.active .dropdown-selected {
  @apply border-green-800 shadow-md;
}
.dropdown-list {
  @apply absolute top-full left-0 mt-1 w-full 
    bg-white dark:bg-gray-700 
    border border-gray-300 dark:border-gray-600 
    rounded shadow z-50 hidden max-h-72 overflow-y-auto;
}
.custom-dropdown.active .dropdown-list {
  display: block;
}
.dropdown-search {
  @apply p-3 border-b border-gray-300 dark:border-gray-600;
}
.dropdown-search input {
  @apply w-full p-2 rounded border border-gray-300 dark:border-gray-600 
    bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-100 
    focus:outline-none focus:ring-2 focus:ring-primary;
}
.dropdown-list li:not(.dropdown-search) {
  @apply px-4 py-2 cursor-pointer transition-colors text-gray-800 dark:text-gray-100;
}
.dropdown-list li:not(.dropdown-search):hover {
  @apply bg-green-700 text-white;
}
.dropdown-list li[data-value="all"] {
  @apply font-semibold border-b border-gray-300 dark:border-gray-600;
}

/* ============== WEATHER CARD ============== */
.weather-card {
  @apply rounded p-4 shadow bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-100;
}
.weather-info {
  @apply flex justify-between items-start;
}
.weather-info img {
  @apply w-12 h-12;
}


/* ============== RESPONSIVE ============== */
@media (max-width: 480px) {
  .controls {
    @apply flex-row gap-2 justify-center;
  }
  .controls button {
    @apply px-3 py-1.5 text-sm;
  }
  .controls input[type="date"] {
    min-width: 130px;
    @apply text-sm px-2;
  }
  .weather-info {
    @apply flex-col items-start;
  }
  .weather-info img {
    @apply mt-2;
  }
}
